function generateFromArticle(){
 if(path.length < 2) return alert("विषय चुनें");

 const subject = path[0];
 const topic   = path[1];

 const text = article.value.trim();
 if(text.length < 80) return alert("लेख छोटा है");

 let facts = [];

 /* -------- YEARS -------- */
 const year = text.match(/\d{3,4}\s*(ईसा\s*पूर्व|ईस्वी)?/);
 if(year){
   facts.push({
     q: "प्रारंभिक काल किस वर्ष में माना जाता है?",
     ans: year[0]
   });
 }

 /* -------- CROPS -------- */
 if(text.includes("गेहूँ") || text.includes("जौ")){
   facts.push({
     q: "कौन-सी फसलें उगाई जाती थीं?",
     ans: "गेहूँ, जौ और मटर"
   });
 }

 /* -------- ANIMALS -------- */
 if(text.includes("बैल") || text.includes("भेड़")){
   facts.push({
     q: "कौन से पशु पाले जाते थे?",
     ans: "बैल, भेड़ और बकरी"
   });
 }

 /* -------- TOOLS -------- */
 if(text.includes("तांबा") || text.includes("कांसा")){
   facts.push({
     q: "कौन-सी धातुओं के औजार प्रयोग होते थे?",
     ans: "तांबा और कांसा"
   });
 }

 /* -------- TRADE -------- */
 if(text.includes("व्यापार")){
   facts.push({
     q: "व्यापार किस स्तर पर था?",
     ans: "सीमित स्तर पर"
   });
 }

 if(facts.length === 0){
   return alert("इस लेख से प्रश्न नहीं निकले");
 }

 /* -------- CONVERT TO MCQ -------- */
 facts.forEach(f=>{
   const wrongs = ["लोहा","शिकार पर आधारित"];
   let opts = shuffle3([f.ans, ...wrongs]);
   opts.push("कोई नहीं"); // D हमेशा

   const letters = ["A","B","C","D"];
   const correct = letters[opts.indexOf(f.ans)];

   data.exams["UP Police Constable"][subject][topic].push({
     q: `[${subject} → ${topic}] ${f.q}`,
     a: opts[0],
     b: opts[1],
     c: opts[2],
     d: opts[3],
     correct: correct,
     explain: "लेख के अनुसार सही उत्तर: " + f.ans
   });
 });

 save();
 showQuestions();
 alert("लेख से MCQ सफलतापूर्वक बने");
}
